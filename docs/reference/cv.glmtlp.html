<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cross-validation for glmtlp — cv.glmtlp • glmtlp</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cross-validation for glmtlp — cv.glmtlp" />
<meta property="og:description" content="Does k-fold cross-validation for glmtlp, produces a plot, and returns a
value for lambda (or kappa if penalty=&quot;l0&quot;)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glmtlp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/glmtlp.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross-validation for glmtlp</h1>
    
    <div class="hidden name"><code>cv.glmtlp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Does k-fold cross-validation for glmtlp, produces a plot, and returns a
value for <code>lambda</code> (or <code>kappa</code> if <code>penalty="l0"</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>cv.glmtlp</span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>y</span>, <span class='va'>...</span>, seed <span class='op'>=</span> <span class='cn'>NULL</span>, nfolds <span class='op'>=</span> <span class='fl'>10</span>, obs.fold <span class='op'>=</span> <span class='cn'>NULL</span>, ncores <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>X</th>
      <td><p>input matrix, of dimension <code>nobs</code> x <code>nvars</code>, as in 
<code>glmtlp</code>.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>response, of length nobs, as in <code>glmtlp</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments that can be passed to <code>glmtlp</code></p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>the seed for reproduction purposes</p></td>
    </tr>
    <tr>
      <th>nfolds</th>
      <td><p>number of folds; default is 10. Although <code>nfolds</code> can be
as large as the sample size (leave-one-out CV), it is not recommended for
large datasets. The smallest value allowable is <code>nfolds=3</code></p></td>
    </tr>
    <tr>
      <th>obs.fold</th>
      <td><p>an optional vector of values between 1 and <code>nfolds</code>
identifying what fold each observation is in. If supplied, <code>nfolds</code> can
be missing.</p></td>
    </tr>
    <tr>
      <th>ncores</th>
      <td><p>number of cores utilized; default is 1. If greater than 1, 
then use <code>doParallel::foreach</code> to fit each fold; if equal to 1, then 
use for loop to fit each fold. No need to register parallel outside.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of class <code>"cv.glmtlp"</code> is returned, which is a list
  with the ingredients of the cross-validation fit.</p>
<dt>call</dt><dd><p>the function call</p></dd>
<dt>cv.mean</dt><dd><p>The mean cross-validated error - a vector of length
  <code><a href='https://rdrr.io/r/base/length.html'>length(kappa)</a></code> if <code>penalty = "l0"</code> and a vector of length 
  <code>length{lambda}</code> otherwise.</p></dd> 
<dt>cv.se</dt><dd><p>estimate of standard error of <code>cv.mean</code>.</p></dd> 
<dt>fit</dt><dd><p>a fitted glmtlp object for the full data.</p></dd> 
<dt>idx.min</dt><dd><p>the index of the <code>lambda</code> or <code>kappa</code> sequence that 
  corresponding to the smallest cv mean error.</p></dd>
<dt>kappa</dt><dd><p>the values of <code>kappa</code> used in the fits, available when 
  penalty = 'l0'.</p></dd>
<dt>kappa.min</dt><dd><p>the value of <code>kappa</code> that gives the minimum 
  <code>cv.mean</code>, available when penalty is 'l0'.</p></dd>
<dt>lambda</dt><dd><p>the values of <code>lambda</code> used in the fits.</p></dd> 
<dt>lambda.min</dt><dd><p>value of <code>lambda</code> that gives minimum <code>cv.mean</code>,  
  available when penalty is 'l1' or 'tlp'.</p></dd> 
<dt>null.dev</dt><dd><p>null deviance of the model.</p></dd>
<dt>obs.fold</dt><dd><p>the fold id for each observation used in the CV.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function runs <code>glmtlp</code> <code>nfolds</code>+1 times; the first to get the
  <code>lambda</code> or <code>kappa</code> sequence, and then the remainder to compute 
  the fit with each of the folds omitted. The error is accumulated, and the 
  average (haven't finished yet) error and standard deviation over the folds 
  is computed.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Shen, X., Pan, W., &amp; Zhu, Y. (2012). 
  <em>Likelihood-based selection and sharp parameter estimation. 
  Journal of the American Statistical Association, 107(497), 223-232.</em>
  <br /> Yang, Y., &amp; Zou, H. (2014). <em>A coordinate majorization descent algorithm 
  for l1 penalized learning. Journal of Statistical Computation and 
  Simulation, 84(1), 84-95.</em>
  <br /> Two R package Github: <em>ncvreg</em> and <em>glmnet</em>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>glmtlp</code> and <code>plot</code>, <code>predict</code>, and <code>coef</code>
methods for <code>"cv.glmtlp"</code> objects.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Chunlin Li, Yu Yang, Chong Wu
  <br /> Maintainer: Yu Yang <a href='mailto:yang6367@umn.edu'>yang6367@umn.edu</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Gaussian</span>
<span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span> <span class='op'>*</span> <span class='fl'>20</span><span class='op'>)</span>, <span class='fl'>100</span>, <span class='fl'>20</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>)</span>
<span class='va'>cv.fit</span> <span class='op'>&lt;-</span> <span class='fu'>cv.glmtlp</span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>y</span>, family <span class='op'>=</span> <span class='st'>"gaussian"</span>, penalty <span class='op'>=</span> <span class='st'>"l1"</span>, seed<span class='op'>=</span><span class='fl'>2021</span><span class='op'>)</span>

<span class='co'># Binomial</span>
<span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span> <span class='op'>*</span> <span class='fl'>20</span><span class='op'>)</span>, <span class='fl'>100</span>, <span class='fl'>20</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>1</span><span class='op'>)</span>, <span class='fl'>100</span>, replace <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>cv.fit</span> <span class='op'>&lt;-</span> <span class='fu'>cv.glmtlp</span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>y</span>, family <span class='op'>=</span> <span class='st'>"binomial"</span>, penalty <span class='op'>=</span> <span class='st'>"l1"</span>, seed<span class='op'>=</span><span class='fl'>2021</span><span class='op'>)</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Chunlin Li, Yu Yang, Chong Wu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


